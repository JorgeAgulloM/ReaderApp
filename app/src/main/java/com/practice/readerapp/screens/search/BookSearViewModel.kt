package com.practice.readerapp.screens.searchimport androidx.compose.runtime.MutableStateimport androidx.compose.runtime.mutableStateOfimport androidx.lifecycle.ViewModelimport androidx.lifecycle.viewModelScopeimport com.practice.readerapp.data.DataOrExceptionimport com.practice.readerapp.model.Itemimport com.practice.readerapp.repository.BookRepositoryimport dagger.hilt.android.lifecycle.HiltViewModelimport kotlinx.coroutines.Dispatchersimport kotlinx.coroutines.launchimport java.security.cert.Extensionimport javax.inject.Inject@HiltViewModelclass BookSearViewModel @Inject constructor(private val repository: BookRepository): ViewModel() {    var listOfBooks: MutableState<DataOrException<List<Item>, Boolean, Exception>>    = mutableStateOf(DataOrException(null, true, Exception("")))    init {        searchBooks("android")    }    private fun searchBooks(query: String) {        viewModelScope.launch(Dispatchers.IO) {            if (query.isEmpty()) return@launch            listOfBooks.value.loading = true            listOfBooks.value = repository.getBooks(query)            if (listOfBooks.value.data.toString().isNotEmpty())                listOfBooks.value.loading = false        }    }}